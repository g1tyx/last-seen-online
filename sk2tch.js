"use strict";(self.webpackChunksketches=self.webpackChunksketches||[]).push([[250],{5133:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(4848),o=n(8899),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function i(e){var{href:t,children:n}=e,i=a(e,["href","children"]);return o.y?(0,r.jsx)("a",Object.assign({href:"#",rel:"noreferrer",onClick:e=>{var n,r;e.preventDefault(),null===(r=null===(n=null===window||void 0===window?void 0:window.electronAPI)||void 0===n?void 0:n.steamworks)||void 0===r||r.overlay.activateToWebPage(t)}},i,{children:n})):(0,r.jsx)("a",Object.assign({href:t,target:"_blank",rel:"noreferrer"},i,{children:n}))}},7059:(e,t,n)=>{n.d(t,{B:()=>i});var r=n(4848),o=n(6540),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};function i({onDropJsonFile:e}){return(0,o.useEffect)((()=>{const t=e=>{var t=e.dataTransfer;t.types&&(t.types.indexOf?-1!==t.types.indexOf("Files"):t.types.contains("Files"))&&e.preventDefault()};document.addEventListener("dragover",t);const n=t=>a(this,void 0,void 0,(function*(){if(t.preventDefault(),t.dataTransfer.items&&1===t.dataTransfer.items.length){const n=t.dataTransfer.items[0];if("file"===n.kind){const t=n.getAsFile();t.name.endsWith(".jsonc")&&e(yield t.text())}}else if(t.dataTransfer.files&&1===t.dataTransfer.files.length){const n=t.dataTransfer.files[0];n.name.endsWith(".jsonc")&&e(yield n.text())}}));return document.addEventListener("drop",n),()=>{document.removeEventListener("dragover",t),document.removeEventListener("drop",n)}}),[e]),(0,r.jsx)(r.Fragment,{})}},9616:(e,t,n)=>{n.d(t,{A:()=>i,M:()=>a});var r=n(4848),o=n(6540);const a=(0,o.createContext)(),i=(0,o.forwardRef)((({children:e},t)=>{const[n,i]=(0,o.useState)(window.innerWidth/window.innerHeight<1?"portrait":"landscape"),[s,c]=(0,o.useState)(1);(0,o.useImperativeHandle)(t,(()=>({orientation:n,size:s})),[n,s]);const[d,l]=(0,o.useState)({width:window.innerWidth,height:window.innerHeight});return(0,o.useEffect)((()=>{const e=()=>{const e=window.innerWidth,t=window.innerHeight;l({width:e,height:t});const n=e/t,r=n<1?"portrait":"landscape";i(r),"landscape"===r&&c(n<4/3?e/800:t/600),"portrait"===r&&c(n<3/4?e/600:t/800)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.jsx)(a.Provider,{value:{size:s,orientation:n},children:(0,r.jsx)("div",{style:{position:"absolute",left:"landscape"===n?d.width/2-400*s:d.width/2-300*s,top:"landscape"===n?d.height/2-300*s:d.height/2-400*s,width:"landscape"===n?800*s:600*s,height:"landscape"===n?600*s:800*s,overflow:"hidden"},children:e})})}))},7825:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(9437);class o extends r.Loader{constructor(e){super(e)}load(e,t,n,o){const a=new r.Texture,i=new r.ImageLoader(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),t&&t(a);let s=10;const c=()=>{s--,i.load(e,(function(e){a.image=e,a.needsUpdate=!0,void 0!==t&&t(a)}),n,(e=>{s>0?setTimeout((()=>c()),1e3-100*s):void 0!==o&&(e.message="Failed to download this file. Check your internet connection.")}))};return c(),a}}},9418:(e,t,n)=>{n.d(t,{US:()=>i,VC:()=>s,pd:()=>c});var r=n(6540),o=n(8071);let a="undefined"!=typeof window&&window.electronAPI?JSON.parse(window.electronAPI.loadKey("save"))||{}:("undefined"!=typeof localStorage?JSON.parse(localStorage.getItem("save")):null)||{};function i(e,t,n=e=>e,i=e=>e){o.A.IGNORE_SAVE&&(a[e]=t);const[s,c]=(0,r.useState)(void 0!==a[e]?n(a[e]):t);return(0,r.useEffect)((()=>{var t;a[e]=i(s),o.A.IGNORE_SAVE||(window.electronAPI?null===(t=window.electronAPI)||void 0===t||t.saveKey("save",JSON.stringify(a)):localStorage.setItem("save",JSON.stringify(a)))}),[e,s,i]),[s,c]}function s(){var e;a={},window.electronAPI?null===(e=window.electronAPI)||void 0===e||e.saveKey("save",JSON.stringify(a)):localStorage.setItem("save",JSON.stringify(a)),window.location.reload()}const c=(0,r.createContext)()},5047:(e,t,n)=>{function r(e){var t,n,r,o,a,i;(null===(r=null===(n=null===(t=null===window||void 0===window?void 0:window.electronAPI)||void 0===t?void 0:t.steamworks)||void 0===n?void 0:n.achievement)||void 0===r?void 0:r.activate)&&(null===(i=null===(a=null===(o=null===window||void 0===window?void 0:window.electronAPI)||void 0===o?void 0:o.steamworks)||void 0===a?void 0:a.achievement)||void 0===i||i.activate(e))}n.d(t,{o:()=>r})},99:(e,t,n)=>{n.d(t,{KA:()=>o,U9:()=>s,ep:()=>i});var r=n(9279);try{(0,r.ai)("G-1WPQ18JJT3")}catch(e){}function o(e,t={}){try{(0,r.w6)("event",e,t)}catch(e){}}let a={};function i(e){try{if(a[e])return;a[e]=Date.now(),o(`start_${e}`)}catch(e){}}function s(e){try{a[e]&&o(`finish_${e}`,{value:Date.now()-a[e]})}catch(e){}}},8071:(e,t,n)=>{n.d(t,{A:()=>r});const r={IGNORE_SAVE:!1}},4617:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(7007);const o=new(n.n(r)())},8899:(e,t,n)=>{n.d(t,{y:()=>r});const r=!1},7172:(e,t,n)=>{function r(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function o(e){return 1-Math.pow(1-e,3)}n.d(t,{ME:()=>r,p_:()=>o})},3528:(e,t,n)=>{n.d(t,{I:()=>h});var r=n(4848),o=n(6540),a=n(7007),i=n.n(a),s=n(5512),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};class d extends String{constructor(e){super(e),this.format=(...e)=>this.template.replace(/{(\d+)}/g,((t,n)=>void 0!==e[n]?e[n]:t)),this.toString=()=>this.template,this.template=e}}const l=new(i());let u={},f={};const v={get:(e,t)=>u[t]||f[t]||new d("ERROR")};let w=new Proxy({},v);const h={get language(){return w},loadFallbackLanguageFile:e=>c(void 0,void 0,void 0,(function*(){try{h.loadFallbackLanguageText(yield(yield fetch(e)).text())}catch(t){throw Error(`Error parsing language file: ${e}`)}})),loadFallbackLanguageText:e=>c(void 0,void 0,void 0,(function*(){let t=JSON.parse((0,s.A)(e));Object.keys(t).forEach((e=>{"string"==typeof t[e]?t[e]=new d(t[e]):Array.isArray(t[e])&&(t[e]=t[e].map((e=>"string"==typeof e?new d(e):e)))})),f=t,w=new Proxy({},v),l.emit("languageFileLoaded",w)})),loadLanguageFile:e=>c(void 0,void 0,void 0,(function*(){h.loadLanguageText(yield(yield fetch(e)).text())})),loadLanguageText:e=>{let t;try{t=JSON.parse((0,s.A)(e))}catch(e){return}Object.keys(t).forEach((e=>{"string"==typeof t[e]?t[e]=new d(t[e]):Array.isArray(t[e])&&(t[e]=t[e].map((e=>"string"==typeof e?new d(e):e)))})),u=t,w=new Proxy({},v),l.emit("languageFileLoaded",w)},L10nProvider:({children:e})=>{const[t,n]=o.useState(w);return(0,o.useEffect)((()=>{const e=e=>{n(e)};return l.on("languageFileLoaded",e),()=>l.off("languageFileLoaded",e)}),[]),(0,r.jsx)(h.Context.Provider,{value:{language:t},children:e})},Context:o.createContext({}),Text:({name:e,format:t})=>{const{language:n}=(0,o.useContext)(h.Context);return(0,r.jsx)(r.Fragment,{children:n[e].format(t||[])})}}},8352:(e,t,n)=>{n.d(t,{A:()=>r});const r=e=>{e&&e instanceof Function&&n.e(96).then(n.bind(n,364)).then((({getCLS:t,getFID:n,getFCP:r,getLCP:o,getTTFB:a})=>{t(e),n(e),r(e),o(e),a(e)}))}},1722:(e,t,n)=>{n.d(t,{XP:()=>u,Yy:()=>l,cA:()=>f,xe:()=>s});var r=n(4617),o=n(3346),a=n(6540);let i=!1;function s(e,t){t=t||0;let n=performance.now(),r=0,o=0;return o=requestAnimationFrame((function a(){const s=performance.now();i||(r+=s-n),n=s,r>=t?e():o=requestAnimationFrame(a)})),function(){cancelAnimationFrame(o)}}let c=0,d=performance.now();function l(){return i?c:c+(performance.now()-d)}function u(e){r.A.emit("pause",e),e?c+=performance.now()-d:d=performance.now(),i=e}function f(e,t){let n=(0,a.useRef)(0),r=(0,a.useRef)(0);(0,o.C)(((t,o)=>{n.current++,r.current+=o,n.current%1==0&&(i||(e(t,r.current),r.current=0))}),t)}},584:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(6540),o=n(1722);function a(e,t){const n=(0,r.useRef)(!1),a=(0,r.useRef)(t),[i,s]=(0,r.useState)(!1),c=(0,r.useRef)(0);a.current=t;const d=(0,r.useMemo)((()=>{let t=0;return("function"==typeof e?e():e).map((e=>{const n=t;return t+=e.duration,Object.assign(Object.assign({},e),{startTime:n})}))}),[e]);return(0,o.cA)(((e,t)=>{if(!1===i)return;const r=c.current,o=c.current+t;c.current=o;let a=!1;d.forEach(((e,n)=>{e.startTime>=r&&e.startTime<=o&&(e.onStart&&e.onStart(),a=!0),(e.startTime>=r&&e.startTime<=o||e.startTime<r&&e.startTime+e.duration>o||e.startTime<r&&e.startTime+e.duration>r)&&(e.frameCallback&&e.frameCallback(t,(c.current-e.startTime)/e.duration),a=!0),e.startTime+e.duration>=r&&e.startTime+e.duration<=o&&(e.onEnd&&e.onEnd(),a=!0)})),a||(s(!1),n.current=!1)})),(0,r.useEffect)((()=>()=>{var e,t;n.current&&(null===(e=a.current)||void 0===e?void 0:e.onEarlyCleanup)&&(null===(t=a.current)||void 0===t||t.onEarlyCleanup())}),[]),[()=>{i&&(null==t?void 0:t.norestart)||(s(!0),n.current=!0,c.current=0)},i]}}}]);